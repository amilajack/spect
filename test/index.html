<!doctype html>
<meta charset=utf-8>
<title>Test</title>
<body></body>
<script>
  // test helpers
  Object.defineProperty(DocumentFragment.prototype, 'outerHTML', {
    get() {
      let s = '<>'
      this.childNodes.forEach(n => {
        s += n.nodeType === 3 ? n.textContent : n.outerHTML != null ? n.outerHTML : ''
      })
      s+='</>'
      return s
    }
  })
  Object.defineProperty(DocumentFragment.prototype, 'innerHTML', {get() { return this.outerHTML.slice(2,-3) }})
  Object.defineProperty(DocumentFragment.prototype, 'innerHTMLClean', {get() { return this.outerHTMLClean.slice(2,-3) }})
  Object.defineProperty(DocumentFragment.prototype, 'outerHTMLClean', {
    get() {
      let s = '<>'
      this.childNodes.forEach(n => {
        s += n.nodeType === 3 ? n.textContent : n.outerHTMLClean != null ? n.outerHTMLClean : ''
      })
      s+='</>'
      return s
    }
  })

  Object.defineProperty(Element.prototype, 'innerHTMLClean', {
    get() {
      let ihtml = this.innerHTML
      return ihtml.replace(/<!---->/g, '')
    }
  })
  Object.defineProperty(Element.prototype, 'outerHTMLClean', {
    get() {
      let ohtml = this.outerHTML
      return ohtml.replace(/<!---->/g, '')
    }
  })
</script>
<script type="module">
  import './$.js'
  import './h.js'
  import './i.js'
  import './v.js'
  import './a.js'
  // import './performance.js'
</script>
